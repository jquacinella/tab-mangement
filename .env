# TabBacklog v1 - Environment Configuration
# Copy this file to .env and update with your values

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL connection string
# For Supabase: postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres
# For Docker: use 'postgres' as hostname, for local dev use 'localhost'
DATABASE_URL=postgresql://postgres:postgres1234@postgres:5432/tabbacklog

# PostgreSQL credentials (for docker-compose)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres1234
POSTGRES_DB=tabbacklog

# =============================================================================
# User Configuration
# =============================================================================

# Default user UUID for single-user mode
# Generate with: python -c "import uuid; print(uuid.uuid4())"
DEFAULT_USER_ID=00000000-0000-0000-0000-000000000000

# =============================================================================
# LLM Configuration (for Enrichment Service)
# =============================================================================

# OpenAI-compatible API base URL
# LM Studio: http://localhost:1234/v1
# Ollama: http://localhost:11434/v1
# OpenAI: https://api.openai.com/v1
# LLM_API_BASE=http://localhost:1234/v1
LLM_API_BASE=https://openrouter.ai/api/v1

# API key (use "dummy_key" for local models)
LLM_API_KEY=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

# Model name
LLM_MODEL_NAME=anthropic/claude-3-haiku

# Request timeout in seconds
LLM_TIMEOUT=60

# Max retry attempts for enrichment
MAX_RETRIES=3

# =============================================================================
# Embedding Configuration (for Semantic Search)
# =============================================================================

EMBEDDING_API_BASE=https://openrouter.ai/api/v1
EMBEDDING_API_KEY=sk-or-v1-your-api-key-here
EMBEDDING_MODEL_NAME=openai/text-embedding-3-small

# =============================================================================
# Service URLs (for n8n and inter-service communication)
# =============================================================================

# Parser service URL
PARSER_SERVICE_URL=http://localhost:8001

# Enrichment service URL
ENRICHMENT_SERVICE_URL=http://localhost:8002

# =============================================================================
# Application Settings
# =============================================================================

# Environment: development, staging, production
APP_ENV=development

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Secret key for session signing (generate a random string)
APP_SECRET_KEY=89ad0f9e-31a7-4082-88b8-8c2ce02bb3c8

# =============================================================================
# n8n Configuration
# =============================================================================

# n8n host and port
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=http

# SMTP configuration for error notifications (optional)
N8N_SMTP_HOST=
N8N_SMTP_PORT=587
N8N_SMTP_USER=
N8N_SMTP_PASS=
N8N_SMTP_FROM=

# =============================================================================
# Docker/Network Configuration
# =============================================================================

# Docker network name
NETWORK_NAME=tabbacklog-network

# Parser service settings
FETCH_TIMEOUT=30
